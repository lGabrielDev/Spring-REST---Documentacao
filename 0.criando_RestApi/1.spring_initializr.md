 <h1 align="center">
      Spring
      <img alt="MVC flow" src="https://www.svgrepo.com/show/354380/spring-icon.svg" width="90px" align="center">
 </h1>

 O Spring √© um framework para desenvolvimento de aplica√ß√µes Java. Ele fornece v√°rias ferramentas que facilitam a cria√ß√£o de uma aplica√ß√£o Java.

 Algumas dessas ferramentas s√£o:

 - **Spring Boot** --> Fornece as configura√ß√µes padr√£o para inicializar uma aplica√ß√£o
 - **Spring Data** --> Facilita o acesso a dados de um banco de dados. 
 - **Spring Security** --> Fornece recursos de seguran√ßa
 - **Spring Cloud**, etc...

<hr>
<br>

## API (Application Programming Interface) <img src="https://cdn-icons-png.flaticon.com/512/627/627558.png" alt="spring framework icon" width="50px" align="center">

Uma API permite que um software pe√ßa informa√ß√µes de outro software, sem precisar entender como ele funciona por dentro. Ela age como um "mensageiro", conectando dois sistemas diferentes.

√â como uma conversa padr√£o entre diferentes sistemas, utilizando JSON para enviar e receber dados.

<hr>
<br>

## Spring initializr <img src="https://cdn3.iconfinder.com/data/icons/start-up-4/44/rocket-256.png" alt="spring framework icon" width="50px" align="center">
√â aqui que criamos nosso projeto Spring.

1. Acesse o [Spring initializr](https://start.spring.io/).

2. Preencha as informa√ß√µes do projeto Spring:

   - Project --> `Maven` --> Depend√™ncias que vamos usar.
   - Language --> `Java`
   - Spring Boot version --> `3.3.3`
   - Group (nome do diretorio do projeto) --> `br.com.empresaTal` - (*nome sempre ao contr√°rio*)
   - Artifact (nome do projeto) --> `projetoFellas`
   - Packaging (empacotamento) --> `jar`
   - Java version --> `17`
   
<hr>
<br>

## Dependencies <img src="https://cdn-icons-png.flaticon.com/512/4148/4148438.png" alt="image icon" width="60px" align="center">

Dependencies s√£o os recursos adicionais que vamos utilizar no nosso projeto Spring.

Vamos usar as seguintes dependencies:

- **Spring Web** --> Para conseguirmos criar nossas aplica√ß√µes restful.
- **Spring Data JPA** --> Comandos SQL j√° prontos, usando o JpaRepository.
- **PostgreSQL Driver** --> Para conseguir usar o banco de dados Postgres.
- **Spring Boot DevTools** --> Sempre que fizermos uma modificacao no projeto, a aplica√ß√£o √© restartada automaticamente

Prontinho, temos nosso projeto spring.

Baixe o projeto e abra no VsCode.

‚ö†Ô∏è Cuidado ao colocar a dependencie `Spring Boot DevTools` !!!!! Essa dependencie fica reiniciando a aplicacao em cada alteracao feita, e pode bugar o projeto.

<hr>
<br>

## application.properties <img src="https://img.icons8.com/dusk/256/database.png" alt="objective icon" width="80px" align="center">
√â aqui que vamos informar ao spring onde est√° localizado o banco de dados.

1. Crie um container docker contendo o postgres:

   ```bash
   docker pull postgres;

   docker run \
   --name 'postgresContainer' \
   -p 2222:5432 \
   -e POSTGRES_USER=postgres \
   -e POSTGRES_PASSWORD=123 \
   -v volumeZica:/var/lib/postgresql/data \
   -d 
   b781f3a53e61;


   docker exec -it 66c1d5f98208 /bin/bash; # entramos no terminal do container


   psql -h localhost -p 5432 -U postgres -d postgres; # entramos no postgres
   ```
   
<br>

2. Acesse o postgres, atrav√©s do docker e crie uma database 'student'

   ```properties
   # definimos a porta que vamos usar do tomcat. Geralmente a porta padrao √© 8080.
   server.port=8080

   # Informamos o caminho do banco de dados. A porta do banco √© a porta 2222 local que conecta com a porta 5432 do container
   spring.datasource.url=jdbc:postgresql://localhost:2222/db_student

   # Usu√°rio do banco de dados
   spring.datasource.username=postgres

   # Senha do banco de dados. √â a senha do usuario postgres
   spring.datasource.password=123

   # Acompanha as altera√ß√µes feitas nas entidades. Qualquer altera√ß√£o feita na entidade, a table tamb√©m vai sofrer altera√ß√£o.
   spring.jpa.hibernate.ddl-auto=update

   # Mostrar os commands SQL feitos pelo jpa
   spring.jpa.show-sql=true
      ```

   ‚úèÔ∏è Rode a aplica√ß√£o e veja se est√° tudo ok.

   <br>

   ‚ö†Ô∏è Se der erro, pode ser:
   - As informacoes (nome do banco, usuario, password) estao erradas. Ou...
   - A dependency do postgres est√° errada. Para baixar uma versao atual, v√° no [maven repository](https://mvnrepository.com/artifact/org.postgresql/postgresql) e baixe uma outra versao do postgres.

      ```xml
      <dependency>
         <groupId>org.postgresql</groupId>
         <artifactId>postgresql</artifactId>
         <version>42.7.3</version>
      </dependency>
      ```

   <br>

   üí°SEMPRE QUE FIZER UMA ALTERA√á√ÉO NO APLICATION PROPERTIES, FA√áA UMA ALTERA√á√ÉO TAMB√âM EM UMA CLASS DA APLICA√á√ÉO. S√ì ASSIM PRA FUNCIONAR AS ALTERACOES FEITAS NO APLICATION PROPERTIES.

<hr>
<br>

## Rodando a aplica√ß√£o <img src="https://img.icons8.com/fluency/256/start.png" alt="objective icon" width="80px" align="center">

1. Rode a aplica√ß√£o e acesse:

     - `http://localhost:8080/` ou
     - `http://127.0.0.1:8080/`
  
  üí° √â atrav√©s da porta `8080` que conseguimos acessar o servidor do tomcat, onde nossa aplicacao spring est√° rodando.

<br>

Se aparecer o erro **Whitelabel Error Page**, o spring t√° funfando certin:

![Whitelabel Error Page image](https://i.stack.imgur.com/YSFUD.png)

Esse erro acontece porque ainda n√£o temos nenhuma rota nas nossas controllers classes.