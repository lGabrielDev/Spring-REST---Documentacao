<h1 align="center">
    Controller class <img src="https://cdn-icons-png.flaticon.com/512/2998/2998762.png" alt="routes icon" width="90px" align="center">
</h1>

A classe **controller** tem como objetivo criar/controlar rotas na sua aplica√ß√£o.

- http://www.empresaTal.com/boasVindas
- http://www.empresaTal.com/paginaInicial

Perceba que essa URL √© como se fosse:

- http://localhost:8080/boasVindas
- http://127.0.0.1:8080/paginaInicial



√â aqui, na Controller Class, que identificamos o method correspondente a requisi√ß√£o/rota que o usu√°rio acessou.


<br>


üí° Agora, vamos come√ßar a utilizar muitas **Annotations**. Elas servem para trazer uma funcionalidade extra para uma class, attribute or method.

N√≥s podemos definir uma Controller Class de duas formas:

- `@RestController` --> Como o pr√≥prio nome j√° diz, √© usado para aplica√ß√µes restfull, onde vai retornar um objeto JSON.

- `@Controller` --> Usado para retornar view de p√°ginas HTML. Usamos muito com thymeleaf.

<br>

Quero retornar objetos JSON, uso `@RestController`.

Quero retornar p√°ginas HTML , uso `@Controller`.


<hr>
<br>

## Rotas/endpoint:
Como dito antes, todas as rotas da nossa aplica√ß√£o s√£o criadas na Controller Class.

Os tipos de rotas/request s√£o:


<img src="../imgs/rest_routes_example.png" alt="restful routes image" width="600px">

<br>

- `@GetMapping` --> Requisi√ß√£o para retornar um dado. `SELECT FROM`
- `@PostMapping` --> Requisi√ß√£o para cadastrar um dado. `INSERT INTO`
- `@PutMapping` --> Requisi√ß√£o para alterar um dado. `UPDATE SET`
- `@DeleteMapping`--> Requisi√ß√£o para deletar um dado. `DELETE FROM`

<br>

O padr√£o √© no plural.

<hr>
<br>


## Criando nossas primeiras rotas

Para seu projeto ficar mais organizado, cada modelo vai ter seu package com suas Classes:

- üìô Package Student:
    - Student --> Entity/model
    - **StudentController**
    - StudentService
    - StudentRepository

etc...

Toda Class relacionado a "Student", colocamos no mesmo package.

<br>


‚úèÔ∏è Crie uma ControllerClass para "Student".

<br>

‚úèÔ∏è Crie 2 routes GET simples:

- Uma rota vai retornar uma String
- Uma rota vai retornar uma lista de Students

```java
package br.com.lGabrielDev.projetinhoFelas.models.student;
import java.time.LocalDate;
import java.util.List;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController //Essa class √© uma class controladora, que retorna objetos JSON
@RequestMapping(path = "/api/v1/") //setamos a rota padrao. Nesse caso http://localhost:8080/api/v1/
public class StudentController{

    //rota 1
    @GetMapping("/textoBolado") //http://localhost:8080/api/v1/textoBolado
    public String getTextoBolado(){
        return "Salve";
    }

    //rota 2
    @GetMapping("/students")
    public List<Student> getStudents(){

        //student 1
        Student s1 = new Student(
            1l,
            "Arthur",
            "arthur@gmail.com",
            LocalDate.of(1997,5,15),
            44
        );

        //student 2
        Student s2 = new Student(
            2l,
            "Maria",
            "maria@gmail.com",
            LocalDate.of(1968,3,27),
            44
        );

        //list of students
        return List.of(s1,s2);
    }
}
```

<br>

Perceba que n√≥s definimos o caminho da rota padr√£o, usando o `RequestMapping()`. Assim, nao precisamos ficar preenchendo o caminho inteiro da rota.


<br>

‚úèÔ∏è Acesse essas rotas no [postman](https://www.postman.com/)

- Rota 1: **http://localhost:8080/api/v1/textoBolado**

- Rota 2: **http://localhost:8080/api/v1/students**

<br>

O Postman, assim como v√°rias outras, √© uma ferramenta que vamos utilizar para acessar as rotas da aplica√ß√£o/fazer os requests. Poder√≠amos fazer direto no navegador, mas no postman √© melhor, pois conseguimos salvar essas rotas.

Conseguimos criar nossas primeiras rotas üòé

